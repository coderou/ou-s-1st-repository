{"version":3,"sources":["pages/Login/index.js"],"names":["Login","state","country","isDisabled","toRegister","props","history","replace","from","validator","rules","value","test","setState","getLoginCode","this","location","getFieldProps","form","className","mode","icon","type","color","onLeftClick","console","log","placeholder","onClick","disabled","window","href","Component","createForm"],"mappings":"4TAUMA,E,4MACJC,MAAQ,CACNC,QAAS,GACTC,YAAY,G,EAGdC,WAAa,WACX,EAAKC,MAAMC,QAAQC,QAAQ,kBAAmB,CAAEC,KAAM,Y,EAcxDC,UAAY,SAACC,EAAOC,GAId,sBAAsBC,KAAKD,GAE7B,EAAKE,SAAS,CAAEV,YAAY,IAG5B,EAAKU,SAAS,CAAEV,YAAY,K,EAGhCW,aAAa,a,uDAxBb,WAGE,IAAMZ,EACJa,KAAKV,MAAMW,SAASf,OAASc,KAAKV,MAAMW,SAASf,MAAMC,QAErDA,GACFa,KAAKF,SAAS,CAAEX,c,oBAqBpB,WAAU,IAAD,OACCe,EAAkBF,KAAKV,MAAMa,KAA7BD,cACR,OACE,sBAAKE,UAAU,OAAf,UACE,mBACEC,KAAK,QACLC,KAAM,mBAAMC,KAAK,OAAOC,MAAO,SAC/BC,YAAa,WACXC,QAAQC,IAAI,qDAJhB,kDASA,8BAEE,6CACMT,EAAc,QAAS,CACzBP,MAAO,CACL,CACED,UAAWM,KAAKN,eAJxB,IAQEkB,YAAY,uCARd,SAUE,sBAAKR,UAAU,YAAf,UACE,uBACES,QAAS,WACP,EAAKvB,MAAMC,QAAQC,QAAQ,WAAY,CAAEC,KAAM,YAFnD,cAKIO,KAAKd,MAAMC,WAEf,mBAAMoB,KAAK,eAKf,sBAAKH,UAAU,YAAf,UACE,mBAAWQ,YAAY,qDACvB,qBAAKR,UAAU,eAAeS,QAASb,KAAKD,aAA5C,+CAGF,sBACA,sBACA,sBAGA,8BACE,mBAAQQ,KAAK,UAAUO,SAAUd,KAAKd,MAAME,WAAYgB,UAAU,YAAlE,0BAGA,sBAGA,sBAAKA,UAAU,YAAf,UACE,uEACA,qBAAKS,QAASb,KAAKX,WAAnB,qDAIF,sBAAKe,UAAU,cAAf,UACE,qBAAKA,UAAU,UACf,qBAAKA,UAAU,QAAf,kDACA,qBAAKA,UAAU,aAIjB,sBAAKA,UAAU,cAAf,UACE,mBACEA,UAAU,uBACVS,QAAS,WAEPE,OAAOd,SAASe,KACd,6EAGN,mBAAGZ,UAAU,qBACb,mBAAGA,UAAU,4BAIf,qBAAKA,UAAU,eAAf,SACE,mNAEE,mBAAGY,KAAK,uBAAR,oE,GA1HIC,aAoILC,wBAAajC","file":"static/js/12.14e6959a.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport {\r\n  NavBar,\r\n  Icon,\r\n  InputItem,\r\n  WingBlank,\r\n  Button,\r\n  WhiteSpace,\r\n} from 'antd-mobile'\r\nimport { createForm } from 'rc-form'\r\nclass Login extends Component {\r\n  state = {\r\n    country: 86,\r\n    isDisabled: true,\r\n  }\r\n\r\n  toRegister = () => {\r\n    this.props.history.replace('/register/phone', { from: '/login' })\r\n  }\r\n  componentDidMount() {\r\n    // 获取区号\r\n    // 如果是直接打开的login页面,那么就不会有区号传递过来,所以要判断一下\r\n    const country =\r\n      this.props.location.state && this.props.location.state.country\r\n    // this.props.location.state当没发生页面跳转的时候,是undefined,所以不能通过 || 简写\r\n    if (country) {\r\n      this.setState({ country })\r\n    }\r\n  }\r\n\r\n  // 校验手机号的处理数据\r\n  validator = (rules, value) => {\r\n    // console.log(rules)\r\n    // console.log(value)\r\n    // 要判断用户输入的内容是否是手机号\r\n    if (/^1[3456789][\\d]{9}$/.test(value)) {\r\n      // console.log('校验成功')\r\n      this.setState({ isDisabled: false })\r\n    } else {\r\n      // console.log('校验失败')\r\n      this.setState({ isDisabled: true })\r\n    }\r\n  }\r\n  getLoginCode=()=>{\r\n    \r\n  }\r\n\r\n  render() {\r\n    const { getFieldProps } = this.props.form\r\n    return (\r\n      <div className='wrap'>\r\n        <NavBar\r\n          mode='light'\r\n          icon={<Icon type='left' color={'#000'} />}\r\n          onLeftClick={() => {\r\n            console.log('你点击了返回按钮')\r\n          }}\r\n        >\r\n          硅谷注册登录\r\n        </NavBar>\r\n        <WingBlank>\r\n          {/* 输入手机号 */}\r\n          <InputItem\r\n            {...getFieldProps('phone', {\r\n              rules: [\r\n                {\r\n                  validator: this.validator,\r\n                },\r\n              ],\r\n            })}\r\n            placeholder='请输入手机号'\r\n          >\r\n            <div className='inp_phone'>\r\n              <span\r\n                onClick={() => {\r\n                  this.props.history.replace('/country', { from: '/login' })\r\n                }}\r\n              >\r\n                +{this.state.country}\r\n              </span>\r\n              <Icon type='down' />\r\n            </div>\r\n          </InputItem>\r\n\r\n          {/* 获取验证码 */}\r\n          <div className='inp_phone'>\r\n            <InputItem placeholder='请输入手机验证码'></InputItem>\r\n            <div className='inp_code_tip' onClick={this.getLoginCode}>获取验证码</div>\r\n          </div>\r\n\r\n          <WhiteSpace />\r\n          <WhiteSpace />\r\n          <WhiteSpace />\r\n\r\n          {/* 登录按钮即以下部分 */}\r\n          <WingBlank>\r\n            <Button type='warning' disabled={this.state.isDisabled} className='login_btn'>\r\n              登录\r\n            </Button>\r\n            <WhiteSpace />\r\n\r\n            {/* 密码登录\\手机注册 */}\r\n            <div className='login_nav'>\r\n              <div>账号密码登录</div>\r\n              <div onClick={this.toRegister}>手机快速注册</div>\r\n            </div>\r\n\r\n            {/* 其他登录方式 */}\r\n            <div className='login_other'>\r\n              <div className='line '></div>\r\n              <div className='text '>其他登录方式</div>\r\n              <div className='line '></div>\r\n            </div>\r\n\r\n            {/* iconfont显示第三方图标 */}\r\n            <div className='login_oauth'>\r\n              <i\r\n                className='iconfont icon-github'\r\n                onClick={() => {\r\n                  // 给github发送请求\r\n                  window.location.href =\r\n                    'https://github.com/login/oauth/authorize?client_id=0a4276425505fa2e86fa'\r\n                }}\r\n              ></i>\r\n              <i className='iconfont icon-qq'></i>\r\n              <i className='iconfont icon-wechat'></i>\r\n            </div>\r\n\r\n            {/* 确认协议 */}\r\n            <div className='login_bottom'>\r\n              <span>\r\n                未注册的手机号与验证后将自动创建硅谷账号,登录即代表您已同意\r\n                <a href='http://www.baidu.com'>硅谷隐式政策</a>\r\n              </span>\r\n            </div>\r\n          </WingBlank>\r\n        </WingBlank>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default createForm()(Login)\r\n"],"sourceRoot":""}